<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Lord of the Rings Network Analysis</title>
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v5.15.3/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="/css/styles.css" rel="stylesheet" />
    </head>
    <body>
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
            <div class="container">
                <a class="navbar-brand" href="../index.html">Home</a>
                <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                    Menu
                    <i class="fas fa-bars"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item"><a class="nav-link" href="../index.html">Home</a></li>
                        <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
                        <li class="nav-item"><a class="nav-link" href="../images/CV_web.pdf">CV</a></li>
                        <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- Page Header-->
        <header class="masthead" style="background-image: url('../images/Ring.jpg')">
            <div class="overlay"></div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-md-10 mx-auto">
                        <div class="post-heading">
                            <h1>Lord of the Rings Network Analysis</h1>
                            <h2 class="subheading">'One network to rule them all'</h2>
                            <span class="meta">
                                Posted by
                                <a href="../html/about.html">Christian Payne</a>
                                on July, 2022
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <!-- Post Content-->
        <article>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-md-10 mx-auto">
                        <p>Okay, so I haven't read the Lord of Rings series. Although I did read the Hobbit, love the films, and the many games that came out of Tolkien's writings. Despite this major failing however, I love the characters and the world. I was also inspired by this <a href="https://www.youtube.com/watch?v=fAHkJ_Dhr50">YouTube video</a> and <a href="https://github.com/thu-vu92/the_witcher_network">accompanying repo</a>. Given that I've never working with network data before, I thought conducting a similar analysis would be a great project.</p>
                        <p>All of the code used for this analysis, as well as the outputs are all stored on my repo <a href="https://github.com/ChrisPayneHome/LOTR-Network">here</a></p>
                        <h1>Extracting Character Relationships</h1>
                        <p>The first thing we need to do is create the relationship data from the books. For this we'll be using the English language model from the Spacy library. Spacy is a pre-trained natural language model that is designed to extract 'entities' from text. This makes it particularly good at identifying characters from sentences in a book. After loading the model, I decided to coduct a proof of concept investigation by using The Two Towers book. Letting the model loose on the book, returns the following output.</p>
                        <img class="img-fluid" src="/images/LOTR_spacy.png" width="700" height="300">
                        <p>Pretty good right? Not perfect, particularly when attempting to determine the class of the entity (person, group, etc). However, it seems pretty decent at extracting characters overall. Whis this, we can then move onto extracting those entities and filtering them.</p>
                        <p>The next thing we'll need is a list of characters so we can filter through the model's output. For this purpose, I have scraped a list of character names from <a href="https://www.scarymommy.com/lord-of-the-rings-names#:~:text=Lord%20of%20the%20Rings%20Characters%20From%20the%20Movies,Baggins%209%20Balin%2010%20Beechbone%20More%20items...%20">here</a> and manually edited a couple of them so they're more representative of the names used in the book. This list of character names is not perfect, and a better alternative would be to use a csv files with a field for alternative names (such as Strider or Mithrandir). Using the names list we have we can generate a character to character realtionship data, summing these individual connections together gives us the value of these relationships in the book.</p>
                        <img class="img-fluid" src="/images/LOTR_data.png" width="250" height="344">
                        <p>I've included an extract of this data above and it will serve as the basis for our network analysis</p>
                        <h1>The Two Towers Network Relationship</h1>
                        <p>With this data we can then begin to build an initial character relationship network graph for the characters in The Two Towers. I've created this using the Networkx package in python.</p>

                        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/vis-network@latest/styles/vis-network.css" type="text/css" />
                        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vis-network@latest/dist/vis-network.min.js"> </script>
                        <center>
                        <h1></h1>
                        </center>

                        <!-- <link rel="stylesheet" href="../node_modules/vis/dist/vis.min.css" type="text/css" />
                        <script type="text/javascript" src="../node_modules/vis/dist/vis.js"> </script>-->
                        
                        <style type="text/css">
                        
                                #mynetwork_tt {
                                    width: 700px;
                                    height: 700px;
                                    background-color: #222222;
                                    border: 1px solid lightgray;
                                    position: relative;
                                    float: left;
                                }
                            

                            

                            

                        </style>

                        </head>

                        <body>
                        <div id = "mynetwork_tt"></div>
                        
                        
                        <script type="text/javascript">
                        
                            // initialize global variables.
                            var edges_tt;
                            var nodes_tt;
                            var network_tt; 
                            var container_tt;
                            var options_tt, data_tt;
                        

                            // This method is responsible for drawing the graph, returns the drawn network
                            function drawGraph_tt() {
                                var container_tt = document.getElementById('mynetwork_tt');


                            
                                // parsing and collecting nodes and edges from the python
                                nodes_tt = new vis.DataSet([{"font": {"color": "white"}, "id": "Sam", "label": "Sam", "shape": "dot", "size": 21}, {"font": {"color": "white"}, "id": "Boromir", "label": "Boromir", "shape": "dot", "size": 14}, {"font": {"color": "white"}, "id": "Frodo", "label": "Frodo", "shape": "dot", "size": 22}, {"font": {"color": "white"}, "id": "Legolas", "label": "Legolas", "shape": "dot", "size": 17}, {"font": {"color": "white"}, "id": "Gimli", "label": "Gimli", "shape": "dot", "size": 20}, {"font": {"color": "white"}, "id": "Aragorn", "label": "Aragorn", "shape": "dot", "size": 25}, {"font": {"color": "white"}, "id": "Gandalf", "label": "Gandalf", "shape": "dot", "size": 24}, {"font": {"color": "white"}, "id": "Treebeard", "label": "Treebeard", "shape": "dot", "size": 17}, {"font": {"color": "white"}, "id": "Merry", "label": "Merry", "shape": "dot", "size": 19}, {"font": {"color": "white"}, "id": "Galadriel", "label": "Galadriel", "shape": "dot", "size": 6}, {"font": {"color": "white"}, "id": "Gollum", "label": "Gollum", "shape": "dot", "size": 15}, {"font": {"color": "white"}, "id": "Bilbo", "label": "Bilbo", "shape": "dot", "size": 4}, {"font": {"color": "white"}, "id": "Sm\u00e9agol", "label": "Sm\u00e9agol", "shape": "dot", "size": 7}, {"font": {"color": "white"}, "id": "Gaffer", "label": "Gaffer", "shape": "dot", "size": 3}, {"font": {"color": "white"}, "id": "Sauron", "label": "Sauron", "shape": "dot", "size": 18}, {"font": {"color": "white"}, "id": "Elrond", "label": "Elrond", "shape": "dot", "size": 8}, {"font": {"color": "white"}, "id": "Faramir", "label": "Faramir", "shape": "dot", "size": 8}, {"font": {"color": "white"}, "id": "Damrod", "label": "Damrod", "shape": "dot", "size": 3}, {"font": {"color": "white"}, "id": "Beren", "label": "Beren", "shape": "dot", "size": 2}, {"font": {"color": "white"}, "id": "Shelob", "label": "Shelob", "shape": "dot", "size": 5}, {"font": {"color": "white"}, "id": "Shagrat", "label": "Shagrat", "shape": "dot", "size": 3}, {"font": {"color": "white"}, "id": "Gorbag", "label": "Gorbag", "shape": "dot", "size": 2}, {"font": {"color": "white"}, "id": "Denethor", "label": "Denethor", "shape": "dot", "size": 7}, {"font": {"color": "white"}, "id": "\u00c9omer", "label": "\u00c9omer", "shape": "dot", "size": 17}, {"font": {"color": "white"}, "id": "Isildur", "label": "Isildur", "shape": "dot", "size": 5}, {"font": {"color": "white"}, "id": "Elendil", "label": "Elendil", "shape": "dot", "size": 2}, {"font": {"color": "white"}, "id": "Pippin", "label": "Pippin", "shape": "dot", "size": 13}, {"font": {"color": "white"}, "id": "Saruman", "label": "Saruman", "shape": "dot", "size": 11}, {"font": {"color": "white"}, "id": "Th\u00e9oden", "label": "Th\u00e9oden", "shape": "dot", "size": 16}, {"font": {"color": "white"}, "id": "\u00c9omund", "label": "\u00c9omund", "shape": "dot", "size": 6}, {"font": {"color": "white"}, "id": "Celeborn", "label": "Celeborn", "shape": "dot", "size": 3}, {"font": {"color": "white"}, "id": "H\u00e1ma", "label": "H\u00e1ma", "shape": "dot", "size": 10}, {"font": {"color": "white"}, "id": "\u00c9owyn", "label": "\u00c9owyn", "shape": "dot", "size": 5}, {"font": {"color": "white"}, "id": "Gamling", "label": "Gamling", "shape": "dot", "size": 4}, {"font": {"color": "white"}, "id": "Grishn\u00e1kh", "label": "Grishn\u00e1kh", "shape": "dot", "size": 5}, {"font": {"color": "white"}, "id": "Wormtongue", "label": "Wormtongue", "shape": "dot", "size": 9}, {"font": {"color": "white"}, "id": "Hamfast", "label": "Hamfast", "shape": "dot", "size": 2}, {"font": {"color": "white"}, "id": "Gl\u00f3in", "label": "Gl\u00f3in", "shape": "dot", "size": 5}, {"font": {"color": "white"}, "id": "Shadowfax", "label": "Shadowfax", "shape": "dot", "size": 8}, {"font": {"color": "white"}, "id": "Erkenbrand", "label": "Erkenbrand", "shape": "dot", "size": 6}, {"font": {"color": "white"}, "id": "\u00c9othain", "label": "\u00c9othain", "shape": "dot", "size": 2}, {"font": {"color": "white"}, "id": "Anborn", "label": "Anborn", "shape": "dot", "size": 4}, {"font": {"color": "white"}, "id": "Ungoliant", "label": "Ungoliant", "shape": "dot", "size": 2}, {"font": {"color": "white"}, "id": "Quickbeam", "label": "Quickbeam", "shape": "dot", "size": 3}, {"font": {"color": "white"}, "id": "Tom Bombadil", "label": "Tom Bombadil", "shape": "dot", "size": 2}, {"font": {"color": "white"}, "id": "Snaga", "label": "Snaga", "shape": "dot", "size": 1}, {"font": {"color": "white"}, "id": "Bregalad", "label": "Bregalad", "shape": "dot", "size": 2}, {"font": {"color": "white"}, "id": "Fladrif", "label": "Fladrif", "shape": "dot", "size": 1}, {"font": {"color": "white"}, "id": "Finglas", "label": "Finglas", "shape": "dot", "size": 1}, {"font": {"color": "white"}, "id": "Ufthak", "label": "Ufthak", "shape": "dot", "size": 1}]);
                                edges_tt = new vis.DataSet([{"from": "Sam", "label": 1, "to": "Boromir", "value": 8, "weight": 1}, {"from": "Sam", "label": 1, "to": "Frodo", "value": 431, "weight": 1}, {"from": "Sam", "label": 1, "to": "Legolas", "value": 10, "weight": 1}, {"from": "Sam", "label": 1, "to": "Gimli", "value": 12, "weight": 1}, {"from": "Sam", "label": 1, "to": "Aragorn", "value": 5, "weight": 1}, {"from": "Sam", "label": 1, "to": "Gandalf", "value": 23, "weight": 1}, {"from": "Sam", "label": 1, "to": "Treebeard", "value": 5, "weight": 1}, {"from": "Sam", "label": 1, "to": "Merry", "value": 4, "weight": 1}, {"from": "Sam", "label": 1, "to": "Galadriel", "value": 9, "weight": 1}, {"from": "Sam", "label": 1, "to": "Gollum", "value": 261, "weight": 1}, {"from": "Sam", "label": 1, "to": "Bilbo", "value": 6, "weight": 1}, {"from": "Sam", "label": 1, "to": "Sm\u00e9agol", "value": 69, "weight": 1}, {"from": "Sam", "label": 1, "to": "Gaffer", "value": 4, "weight": 1}, {"from": "Sam", "label": 1, "to": "Sauron", "value": 16, "weight": 1}, {"from": "Sam", "label": 1, "to": "Elrond", "value": 5, "weight": 1}, {"from": "Sam", "label": 1, "to": "Faramir", "value": 48, "weight": 1}, {"from": "Sam", "label": 1, "to": "Damrod", "value": 9, "weight": 1}, {"from": "Sam", "label": 1, "to": "Beren", "value": 5, "weight": 1}, {"from": "Sam", "label": 1, "to": "Shelob", "value": 6, "weight": 1}, {"from": "Sam", "label": 1, "to": "Shagrat", "value": 25, "weight": 1}, {"from": "Sam", "label": 1, "to": "Gorbag", "value": 3, "weight": 1}, {"from": "Boromir", "label": 1, "to": "Aragorn", "value": 41, "weight": 1}, {"from": "Boromir", "label": 1, "to": "Gandalf", "value": 8, "weight": 1}, {"from": "Boromir", "label": 1, "to": "Legolas", "value": 18, "weight": 1}, {"from": "Boromir", "label": 1, "to": "Frodo", "value": 59, "weight": 1}, {"from": "Boromir", "label": 1, "to": "Gimli", "value": 13, "weight": 1}, {"from": "Boromir", "label": 1, "to": "Denethor", "value": 3, "weight": 1}, {"from": "Boromir", "label": 1, "to": "\u00c9omer", "value": 6, "weight": 1}, {"from": "Boromir", "label": 1, "to": "Merry", "value": 4, "weight": 1}, {"from": "Boromir", "label": 1, "to": "Elrond", "value": 2, "weight": 1}, {"from": "Boromir", "label": 1, "to": "Treebeard", "value": 4, "weight": 1}, {"from": "Boromir", "label": 1, "to": "Faramir", "value": 17, "weight": 1}, {"from": "Boromir", "label": 1, "to": "Isildur", "value": 7, "weight": 1}, {"from": "Boromir", "label": 1, "to": "Elendil", "value": 1, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Denethor", "value": 5, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Legolas", "value": 108, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Frodo", "value": 14, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Gimli", "value": 100, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Sauron", "value": 8, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Pippin", "value": 17, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Saruman", "value": 6, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "\u00c9omer", "value": 58, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Th\u00e9oden", "value": 17, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Gandalf", "value": 42, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "\u00c9omund", "value": 4, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Celeborn", "value": 6, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Elrond", "value": 5, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Merry", "value": 10, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Treebeard", "value": 6, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "H\u00e1ma", "value": 5, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Elendil", "value": 5, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "\u00c9owyn", "value": 2, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Gamling", "value": 5, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Grishn\u00e1kh", "value": 5, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Wormtongue", "value": 2, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Gollum", "value": 6, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Hamfast", "value": 2, "weight": 1}, {"from": "Denethor", "label": 1, "to": "Gandalf", "value": 2, "weight": 1}, {"from": "Denethor", "label": 1, "to": "Sauron", "value": 6, "weight": 1}, {"from": "Denethor", "label": 1, "to": "H\u00e1ma", "value": 6, "weight": 1}, {"from": "Denethor", "label": 1, "to": "Frodo", "value": 4, "weight": 1}, {"from": "Denethor", "label": 1, "to": "Isildur", "value": 4, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Saruman", "value": 13, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Gimli", "value": 31, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Sauron", "value": 2, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Th\u00e9oden", "value": 50, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "\u00c9omer", "value": 18, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Frodo", "value": 5, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Treebeard", "value": 12, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Galadriel", "value": 6, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Legolas", "value": 15, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Gl\u00f3in", "value": 3, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Shadowfax", "value": 8, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Wormtongue", "value": 16, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "H\u00e1ma", "value": 5, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "\u00c9owyn", "value": 2, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Erkenbrand", "value": 6, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Merry", "value": 27, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Pippin", "value": 15, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Sm\u00e9agol", "value": 8, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Faramir", "value": 1, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Gollum", "value": 5, "weight": 1}, {"from": "Legolas", "label": 1, "to": "Gimli", "value": 207, "weight": 1}, {"from": "Legolas", "label": 1, "to": "Sauron", "value": 3, "weight": 1}, {"from": "Legolas", "label": 1, "to": "\u00c9omer", "value": 28, "weight": 1}, {"from": "Legolas", "label": 1, "to": "Frodo", "value": 3, "weight": 1}, {"from": "Legolas", "label": 1, "to": "Celeborn", "value": 4, "weight": 1}, {"from": "Legolas", "label": 1, "to": "Gl\u00f3in", "value": 5, "weight": 1}, {"from": "Legolas", "label": 1, "to": "Treebeard", "value": 25, "weight": 1}, {"from": "Legolas", "label": 1, "to": "Merry", "value": 5, "weight": 1}, {"from": "Legolas", "label": 1, "to": "Th\u00e9oden", "value": 12, "weight": 1}, {"from": "Legolas", "label": 1, "to": "Shadowfax", "value": 5, "weight": 1}, {"from": "Legolas", "label": 1, "to": "Pippin", "value": 3, "weight": 1}, {"from": "Legolas", "label": 1, "to": "Saruman", "value": 5, "weight": 1}, {"from": "Legolas", "label": 1, "to": "Grishn\u00e1kh", "value": 4, "weight": 1}, {"from": "Gimli", "label": 1, "to": "Sauron", "value": 12, "weight": 1}, {"from": "Gimli", "label": 1, "to": "Frodo", "value": 9, "weight": 1}, {"from": "Gimli", "label": 1, "to": "Pippin", "value": 5, "weight": 1}, {"from": "Gimli", "label": 1, "to": "\u00c9omund", "value": 6, "weight": 1}, {"from": "Gimli", "label": 1, "to": "\u00c9omer", "value": 35, "weight": 1}, {"from": "Gimli", "label": 1, "to": "\u00c9othain", "value": 5, "weight": 1}, {"from": "Gimli", "label": 1, "to": "Saruman", "value": 12, "weight": 1}, {"from": "Gimli", "label": 1, "to": "Elrond", "value": 3, "weight": 1}, {"from": "Gimli", "label": 1, "to": "Treebeard", "value": 6, "weight": 1}, {"from": "Gimli", "label": 1, "to": "Merry", "value": 13, "weight": 1}, {"from": "Gimli", "label": 1, "to": "Gl\u00f3in", "value": 2, "weight": 1}, {"from": "Gimli", "label": 1, "to": "H\u00e1ma", "value": 6, "weight": 1}, {"from": "Gimli", "label": 1, "to": "Th\u00e9oden", "value": 8, "weight": 1}, {"from": "Gimli", "label": 1, "to": "Gamling", "value": 5, "weight": 1}, {"from": "Gimli", "label": 1, "to": "Wormtongue", "value": 1, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Merry", "value": 4, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Shadowfax", "value": 5, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Treebeard", "value": 4, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Sm\u00e9agol", "value": 51, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Gaffer", "value": 8, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Sauron", "value": 7, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Gollum", "value": 136, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Bilbo", "value": 11, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Isildur", "value": 24, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Elrond", "value": 6, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Faramir", "value": 66, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Damrod", "value": 3, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Anborn", "value": 2, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Galadriel", "value": 12, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Shelob", "value": 5, "weight": 1}, {"from": "Sauron", "label": 1, "to": "Saruman", "value": 6, "weight": 1}, {"from": "Sauron", "label": 1, "to": "\u00c9omer", "value": 8, "weight": 1}, {"from": "Sauron", "label": 1, "to": "Th\u00e9oden", "value": 5, "weight": 1}, {"from": "Sauron", "label": 1, "to": "Treebeard", "value": 1, "weight": 1}, {"from": "Sauron", "label": 1, "to": "Merry", "value": 2, "weight": 1}, {"from": "Sauron", "label": 1, "to": "Pippin", "value": 5, "weight": 1}, {"from": "Sauron", "label": 1, "to": "Gollum", "value": 3, "weight": 1}, {"from": "Sauron", "label": 1, "to": "Beren", "value": 4, "weight": 1}, {"from": "Sauron", "label": 1, "to": "Ungoliant", "value": 4, "weight": 1}, {"from": "Sauron", "label": 1, "to": "Sm\u00e9agol", "value": 1, "weight": 1}, {"from": "Sauron", "label": 1, "to": "Shelob", "value": 4, "weight": 1}, {"from": "Saruman", "label": 1, "to": "\u00c9omer", "value": 4, "weight": 1}, {"from": "Saruman", "label": 1, "to": "Pippin", "value": 8, "weight": 1}, {"from": "Saruman", "label": 1, "to": "Treebeard", "value": 3, "weight": 1}, {"from": "Saruman", "label": 1, "to": "Merry", "value": 5, "weight": 1}, {"from": "Saruman", "label": 1, "to": "Th\u00e9oden", "value": 4, "weight": 1}, {"from": "Saruman", "label": 1, "to": "Wormtongue", "value": 6, "weight": 1}, {"from": "Pippin", "label": 1, "to": "Merry", "value": 59, "weight": 1}, {"from": "Pippin", "label": 1, "to": "Grishn\u00e1kh", "value": 11, "weight": 1}, {"from": "Pippin", "label": 1, "to": "Gollum", "value": 6, "weight": 1}, {"from": "Pippin", "label": 1, "to": "Treebeard", "value": 1, "weight": 1}, {"from": "Pippin", "label": 1, "to": "Th\u00e9oden", "value": 9, "weight": 1}, {"from": "Pippin", "label": 1, "to": "Quickbeam", "value": 2, "weight": 1}, {"from": "Pippin", "label": 1, "to": "Shadowfax", "value": 2, "weight": 1}, {"from": "\u00c9omund", "label": 1, "to": "\u00c9omer", "value": 7, "weight": 1}, {"from": "\u00c9omund", "label": 1, "to": "\u00c9owyn", "value": 6, "weight": 1}, {"from": "\u00c9omund", "label": 1, "to": "Th\u00e9oden", "value": 3, "weight": 1}, {"from": "\u00c9omund", "label": 1, "to": "Erkenbrand", "value": 2, "weight": 1}, {"from": "\u00c9omer", "label": 1, "to": "\u00c9othain", "value": 6, "weight": 1}, {"from": "\u00c9omer", "label": 1, "to": "Merry", "value": 1, "weight": 1}, {"from": "\u00c9omer", "label": 1, "to": "Th\u00e9oden", "value": 32, "weight": 1}, {"from": "\u00c9omer", "label": 1, "to": "Wormtongue", "value": 11, "weight": 1}, {"from": "\u00c9omer", "label": 1, "to": "H\u00e1ma", "value": 11, "weight": 1}, {"from": "\u00c9omer", "label": 1, "to": "Shadowfax", "value": 9, "weight": 1}, {"from": "\u00c9omer", "label": 1, "to": "Erkenbrand", "value": 4, "weight": 1}, {"from": "\u00c9omer", "label": 1, "to": "Gamling", "value": 10, "weight": 1}, {"from": "\u00c9omer", "label": 1, "to": "Gl\u00f3in", "value": 6, "weight": 1}, {"from": "Th\u00e9oden", "label": 1, "to": "Treebeard", "value": 6, "weight": 1}, {"from": "Th\u00e9oden", "label": 1, "to": "Shadowfax", "value": 2, "weight": 1}, {"from": "Th\u00e9oden", "label": 1, "to": "Wormtongue", "value": 37, "weight": 1}, {"from": "Th\u00e9oden", "label": 1, "to": "H\u00e1ma", "value": 9, "weight": 1}, {"from": "Th\u00e9oden", "label": 1, "to": "\u00c9owyn", "value": 10, "weight": 1}, {"from": "Th\u00e9oden", "label": 1, "to": "Erkenbrand", "value": 6, "weight": 1}, {"from": "Th\u00e9oden", "label": 1, "to": "Merry", "value": 6, "weight": 1}, {"from": "Celeborn", "label": 1, "to": "Treebeard", "value": 8, "weight": 1}, {"from": "Elrond", "label": 1, "to": "Treebeard", "value": 4, "weight": 1}, {"from": "Elrond", "label": 1, "to": "Tom Bombadil", "value": 6, "weight": 1}, {"from": "Elrond", "label": 1, "to": "Faramir", "value": 4, "weight": 1}, {"from": "Merry", "label": 1, "to": "Grishn\u00e1kh", "value": 11, "weight": 1}, {"from": "Merry", "label": 1, "to": "Shadowfax", "value": 1, "weight": 1}, {"from": "Merry", "label": 1, "to": "Bilbo", "value": 9, "weight": 1}, {"from": "Merry", "label": 1, "to": "Treebeard", "value": 65, "weight": 1}, {"from": "Merry", "label": 1, "to": "Galadriel", "value": 5, "weight": 1}, {"from": "Merry", "label": 1, "to": "Wormtongue", "value": 5, "weight": 1}, {"from": "Merry", "label": 1, "to": "Quickbeam", "value": 3, "weight": 1}, {"from": "Grishn\u00e1kh", "label": 1, "to": "Snaga", "value": 2, "weight": 1}, {"from": "Shadowfax", "label": 1, "to": "H\u00e1ma", "value": 3, "weight": 1}, {"from": "Gollum", "label": 1, "to": "Bilbo", "value": 4, "weight": 1}, {"from": "Gollum", "label": 1, "to": "Sm\u00e9agol", "value": 80, "weight": 1}, {"from": "Gollum", "label": 1, "to": "Gaffer", "value": 5, "weight": 1}, {"from": "Gollum", "label": 1, "to": "Isildur", "value": 5, "weight": 1}, {"from": "Gollum", "label": 1, "to": "Faramir", "value": 10, "weight": 1}, {"from": "Gollum", "label": 1, "to": "Damrod", "value": 4, "weight": 1}, {"from": "Gollum", "label": 1, "to": "Anborn", "value": 4, "weight": 1}, {"from": "Gollum", "label": 1, "to": "Shelob", "value": 4, "weight": 1}, {"from": "Gollum", "label": 1, "to": "Ungoliant", "value": 5, "weight": 1}, {"from": "Treebeard", "label": 1, "to": "Bregalad", "value": 9, "weight": 1}, {"from": "Treebeard", "label": 1, "to": "Wormtongue", "value": 9, "weight": 1}, {"from": "Treebeard", "label": 1, "to": "Gl\u00f3in", "value": 3, "weight": 1}, {"from": "Tom Bombadil", "label": 1, "to": "Galadriel", "value": 6, "weight": 1}, {"from": "Galadriel", "label": 1, "to": "Hamfast", "value": 1, "weight": 1}, {"from": "Fladrif", "label": 1, "to": "Finglas", "value": 6, "weight": 1}, {"from": "Bregalad", "label": 1, "to": "Quickbeam", "value": 1, "weight": 1}, {"from": "Wormtongue", "label": 1, "to": "H\u00e1ma", "value": 8, "weight": 1}, {"from": "H\u00e1ma", "label": 1, "to": "\u00c9owyn", "value": 4, "weight": 1}, {"from": "H\u00e1ma", "label": 1, "to": "Erkenbrand", "value": 2, "weight": 1}, {"from": "Erkenbrand", "label": 1, "to": "Gamling", "value": 4, "weight": 1}, {"from": "Sm\u00e9agol", "label": 1, "to": "Anborn", "value": 4, "weight": 1}, {"from": "Sm\u00e9agol", "label": 1, "to": "Shelob", "value": 4, "weight": 1}, {"from": "Isildur", "label": 1, "to": "Faramir", "value": 9, "weight": 1}, {"from": "Faramir", "label": 1, "to": "Anborn", "value": 6, "weight": 1}, {"from": "Shagrat", "label": 1, "to": "Gorbag", "value": 22, "weight": 1}, {"from": "Shagrat", "label": 1, "to": "Ufthak", "value": 3, "weight": 1}]);
                            
                                // adding nodes and edges to the graph
                                data_tt = {nodes: nodes_tt, edges: edges_tt};
                            
                                var options_tt = {
                            "configure": {
                                "enabled": false
                            },
                            "edges": {
                                "color": {
                                    "inherit": true
                                },
                                "smooth": {
                                    "enabled": true,
                                    "type": "dynamic"
                                }
                            },
                            "interaction": {
                                "dragNodes": true,
                                "hideEdgesOnDrag": false,
                                "hideNodesOnDrag": false
                            },
                            "physics": {
                                "enabled": true,
                                "stabilization": {
                                    "enabled": true,
                                    "fit": true,
                                    "iterations": 1000,
                                    "onlyDynamicEdges": false,
                                    "updateInterval": 50
                                }
                            }
                        };





                                network_tt = new vis.Network(container_tt, data_tt, options_tt);






                                return network_tt;

                            }
                        
                            drawGraph_tt();
                        
                        </script>

                        <p> </p>
                        <p>Pretty cool, right? Feel free to have to play around with the dynamic network graph, and take a look at your favourite characters.</p>
                        <h1>Community Detection</h1>
                        <p>this we can then identify different communities of nodes in the data. For example, one group of characters might interact with rach other more than they would with another group of characters. We can then use an algorithm to identify these groups and display the result visually. For this, we'll be using the Louvain algorithm. In layman's terms this works by identifying communities by looking at density (number of connections) throughout the network.</p>
                        <p>Once we've run this algorithm for all the characters in our network, we can then visualise these communities on another network graph.</p>

                        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/vis-network@latest/styles/vis-network.css" type="text/css" />
                        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vis-network@latest/dist/vis-network.min.js"> </script>
                        <center>
                        <h1></h1>
                        </center>

                        <!-- <link rel="stylesheet" href="../node_modules/vis/dist/vis.min.css" type="text/css" />
                        <script type="text/javascript" src="../node_modules/vis/dist/vis.js"> </script>-->
                        
                        <style type="text/css">
                        
                                #mynetwork_tt_com {
                                    width: 700px;
                                    height: 700px;
                                    background-color: #222222;
                                    border: 1px solid lightgray;
                                    position: relative;
                                    float: left;
                                }
                            

                            

                            

                        </style>

                        </head>

                        <body>
                        <div id = "mynetwork_tt_com"></div>
                        
                        
                        <script type="text/javascript">
                        
                            // initialize global variables.
                            var edges_tt_com;
                            var nodes_tt_com;
                            var network_tt_com; 
                            var container_tt_com;
                            var options_tt_com, data_tt_com;
                        

                            // This method is responsible for drawing the graph, returns the drawn network
                            function drawGraph_tt_com() {
                                var container_tt_com = document.getElementById('mynetwork_tt_com');


                            
                                // parsing and collecting nodes and edges from the python
                                nodes_tt_com = new vis.DataSet([{"font": {"color": "white"}, "group": 0, "id": "Sam", "label": "Sam", "shape": "dot", "size": 21}, {"font": {"color": "white"}, "group": 0, "id": "Boromir", "label": "Boromir", "shape": "dot", "size": 14}, {"font": {"color": "white"}, "group": 0, "id": "Frodo", "label": "Frodo", "shape": "dot", "size": 22}, {"font": {"color": "white"}, "group": 4, "id": "Legolas", "label": "Legolas", "shape": "dot", "size": 17}, {"font": {"color": "white"}, "group": 1, "id": "Gimli", "label": "Gimli", "shape": "dot", "size": 20}, {"font": {"color": "white"}, "group": 1, "id": "Aragorn", "label": "Aragorn", "shape": "dot", "size": 25}, {"font": {"color": "white"}, "group": 1, "id": "Gandalf", "label": "Gandalf", "shape": "dot", "size": 24}, {"font": {"color": "white"}, "group": 4, "id": "Treebeard", "label": "Treebeard", "shape": "dot", "size": 17}, {"font": {"color": "white"}, "group": 4, "id": "Merry", "label": "Merry", "shape": "dot", "size": 19}, {"font": {"color": "white"}, "group": 2, "id": "Galadriel", "label": "Galadriel", "shape": "dot", "size": 6}, {"font": {"color": "white"}, "group": 0, "id": "Gollum", "label": "Gollum", "shape": "dot", "size": 15}, {"font": {"color": "white"}, "group": 0, "id": "Bilbo", "label": "Bilbo", "shape": "dot", "size": 4}, {"font": {"color": "white"}, "group": 0, "id": "Sm\u00e9agol", "label": "Sm\u00e9agol", "shape": "dot", "size": 7}, {"font": {"color": "white"}, "group": 0, "id": "Gaffer", "label": "Gaffer", "shape": "dot", "size": 3}, {"font": {"color": "white"}, "group": 0, "id": "Sauron", "label": "Sauron", "shape": "dot", "size": 18}, {"font": {"color": "white"}, "group": 0, "id": "Elrond", "label": "Elrond", "shape": "dot", "size": 8}, {"font": {"color": "white"}, "group": 0, "id": "Faramir", "label": "Faramir", "shape": "dot", "size": 8}, {"font": {"color": "white"}, "group": 0, "id": "Damrod", "label": "Damrod", "shape": "dot", "size": 3}, {"font": {"color": "white"}, "group": 0, "id": "Beren", "label": "Beren", "shape": "dot", "size": 2}, {"font": {"color": "white"}, "group": 0, "id": "Shelob", "label": "Shelob", "shape": "dot", "size": 5}, {"font": {"color": "white"}, "group": 0, "id": "Shagrat", "label": "Shagrat", "shape": "dot", "size": 3}, {"font": {"color": "white"}, "group": 0, "id": "Gorbag", "label": "Gorbag", "shape": "dot", "size": 2}, {"font": {"color": "white"}, "group": 0, "id": "Denethor", "label": "Denethor", "shape": "dot", "size": 7}, {"font": {"color": "white"}, "group": 1, "id": "\u00c9omer", "label": "\u00c9omer", "shape": "dot", "size": 17}, {"font": {"color": "white"}, "group": 0, "id": "Isildur", "label": "Isildur", "shape": "dot", "size": 5}, {"font": {"color": "white"}, "group": 0, "id": "Elendil", "label": "Elendil", "shape": "dot", "size": 2}, {"font": {"color": "white"}, "group": 4, "id": "Pippin", "label": "Pippin", "shape": "dot", "size": 13}, {"font": {"color": "white"}, "group": 1, "id": "Saruman", "label": "Saruman", "shape": "dot", "size": 11}, {"font": {"color": "white"}, "group": 1, "id": "Th\u00e9oden", "label": "Th\u00e9oden", "shape": "dot", "size": 16}, {"font": {"color": "white"}, "group": 1, "id": "\u00c9omund", "label": "\u00c9omund", "shape": "dot", "size": 6}, {"font": {"color": "white"}, "group": 4, "id": "Celeborn", "label": "Celeborn", "shape": "dot", "size": 3}, {"font": {"color": "white"}, "group": 1, "id": "H\u00e1ma", "label": "H\u00e1ma", "shape": "dot", "size": 10}, {"font": {"color": "white"}, "group": 1, "id": "\u00c9owyn", "label": "\u00c9owyn", "shape": "dot", "size": 5}, {"font": {"color": "white"}, "group": 1, "id": "Gamling", "label": "Gamling", "shape": "dot", "size": 4}, {"font": {"color": "white"}, "group": 4, "id": "Grishn\u00e1kh", "label": "Grishn\u00e1kh", "shape": "dot", "size": 5}, {"font": {"color": "white"}, "group": 1, "id": "Wormtongue", "label": "Wormtongue", "shape": "dot", "size": 9}, {"font": {"color": "white"}, "group": 2, "id": "Hamfast", "label": "Hamfast", "shape": "dot", "size": 2}, {"font": {"color": "white"}, "group": 1, "id": "Gl\u00f3in", "label": "Gl\u00f3in", "shape": "dot", "size": 5}, {"font": {"color": "white"}, "group": 4, "id": "Shadowfax", "label": "Shadowfax", "shape": "dot", "size": 8}, {"font": {"color": "white"}, "group": 1, "id": "Erkenbrand", "label": "Erkenbrand", "shape": "dot", "size": 6}, {"font": {"color": "white"}, "group": 1, "id": "\u00c9othain", "label": "\u00c9othain", "shape": "dot", "size": 2}, {"font": {"color": "white"}, "group": 0, "id": "Anborn", "label": "Anborn", "shape": "dot", "size": 4}, {"font": {"color": "white"}, "group": 0, "id": "Ungoliant", "label": "Ungoliant", "shape": "dot", "size": 2}, {"font": {"color": "white"}, "group": 4, "id": "Quickbeam", "label": "Quickbeam", "shape": "dot", "size": 3}, {"font": {"color": "white"}, "group": 2, "id": "Tom Bombadil", "label": "Tom Bombadil", "shape": "dot", "size": 2}, {"font": {"color": "white"}, "group": 4, "id": "Snaga", "label": "Snaga", "shape": "dot", "size": 1}, {"font": {"color": "white"}, "group": 4, "id": "Bregalad", "label": "Bregalad", "shape": "dot", "size": 2}, {"font": {"color": "white"}, "group": 3, "id": "Fladrif", "label": "Fladrif", "shape": "dot", "size": 1}, {"font": {"color": "white"}, "group": 3, "id": "Finglas", "label": "Finglas", "shape": "dot", "size": 1}, {"font": {"color": "white"}, "group": 0, "id": "Ufthak", "label": "Ufthak", "shape": "dot", "size": 1}]);
                                edges_tt_com = new vis.DataSet([{"from": "Sam", "label": 1, "to": "Boromir", "value": 8, "weight": 1}, {"from": "Sam", "label": 1, "to": "Frodo", "value": 431, "weight": 1}, {"from": "Sam", "label": 1, "to": "Legolas", "value": 10, "weight": 1}, {"from": "Sam", "label": 1, "to": "Gimli", "value": 12, "weight": 1}, {"from": "Sam", "label": 1, "to": "Aragorn", "value": 5, "weight": 1}, {"from": "Sam", "label": 1, "to": "Gandalf", "value": 23, "weight": 1}, {"from": "Sam", "label": 1, "to": "Treebeard", "value": 5, "weight": 1}, {"from": "Sam", "label": 1, "to": "Merry", "value": 4, "weight": 1}, {"from": "Sam", "label": 1, "to": "Galadriel", "value": 9, "weight": 1}, {"from": "Sam", "label": 1, "to": "Gollum", "value": 261, "weight": 1}, {"from": "Sam", "label": 1, "to": "Bilbo", "value": 6, "weight": 1}, {"from": "Sam", "label": 1, "to": "Sm\u00e9agol", "value": 69, "weight": 1}, {"from": "Sam", "label": 1, "to": "Gaffer", "value": 4, "weight": 1}, {"from": "Sam", "label": 1, "to": "Sauron", "value": 16, "weight": 1}, {"from": "Sam", "label": 1, "to": "Elrond", "value": 5, "weight": 1}, {"from": "Sam", "label": 1, "to": "Faramir", "value": 48, "weight": 1}, {"from": "Sam", "label": 1, "to": "Damrod", "value": 9, "weight": 1}, {"from": "Sam", "label": 1, "to": "Beren", "value": 5, "weight": 1}, {"from": "Sam", "label": 1, "to": "Shelob", "value": 6, "weight": 1}, {"from": "Sam", "label": 1, "to": "Shagrat", "value": 25, "weight": 1}, {"from": "Sam", "label": 1, "to": "Gorbag", "value": 3, "weight": 1}, {"from": "Boromir", "label": 1, "to": "Aragorn", "value": 41, "weight": 1}, {"from": "Boromir", "label": 1, "to": "Gandalf", "value": 8, "weight": 1}, {"from": "Boromir", "label": 1, "to": "Legolas", "value": 18, "weight": 1}, {"from": "Boromir", "label": 1, "to": "Frodo", "value": 59, "weight": 1}, {"from": "Boromir", "label": 1, "to": "Gimli", "value": 13, "weight": 1}, {"from": "Boromir", "label": 1, "to": "Denethor", "value": 3, "weight": 1}, {"from": "Boromir", "label": 1, "to": "\u00c9omer", "value": 6, "weight": 1}, {"from": "Boromir", "label": 1, "to": "Merry", "value": 4, "weight": 1}, {"from": "Boromir", "label": 1, "to": "Elrond", "value": 2, "weight": 1}, {"from": "Boromir", "label": 1, "to": "Treebeard", "value": 4, "weight": 1}, {"from": "Boromir", "label": 1, "to": "Faramir", "value": 17, "weight": 1}, {"from": "Boromir", "label": 1, "to": "Isildur", "value": 7, "weight": 1}, {"from": "Boromir", "label": 1, "to": "Elendil", "value": 1, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Denethor", "value": 5, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Legolas", "value": 108, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Frodo", "value": 14, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Gimli", "value": 100, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Sauron", "value": 8, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Pippin", "value": 17, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Saruman", "value": 6, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "\u00c9omer", "value": 58, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Th\u00e9oden", "value": 17, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Gandalf", "value": 42, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "\u00c9omund", "value": 4, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Celeborn", "value": 6, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Elrond", "value": 5, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Merry", "value": 10, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Treebeard", "value": 6, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "H\u00e1ma", "value": 5, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Elendil", "value": 5, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "\u00c9owyn", "value": 2, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Gamling", "value": 5, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Grishn\u00e1kh", "value": 5, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Wormtongue", "value": 2, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Gollum", "value": 6, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Hamfast", "value": 2, "weight": 1}, {"from": "Denethor", "label": 1, "to": "Gandalf", "value": 2, "weight": 1}, {"from": "Denethor", "label": 1, "to": "Sauron", "value": 6, "weight": 1}, {"from": "Denethor", "label": 1, "to": "H\u00e1ma", "value": 6, "weight": 1}, {"from": "Denethor", "label": 1, "to": "Frodo", "value": 4, "weight": 1}, {"from": "Denethor", "label": 1, "to": "Isildur", "value": 4, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Saruman", "value": 13, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Gimli", "value": 31, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Sauron", "value": 2, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Th\u00e9oden", "value": 50, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "\u00c9omer", "value": 18, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Frodo", "value": 5, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Treebeard", "value": 12, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Galadriel", "value": 6, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Legolas", "value": 15, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Gl\u00f3in", "value": 3, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Shadowfax", "value": 8, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Wormtongue", "value": 16, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "H\u00e1ma", "value": 5, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "\u00c9owyn", "value": 2, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Erkenbrand", "value": 6, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Merry", "value": 27, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Pippin", "value": 15, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Sm\u00e9agol", "value": 8, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Faramir", "value": 1, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Gollum", "value": 5, "weight": 1}, {"from": "Legolas", "label": 1, "to": "Gimli", "value": 207, "weight": 1}, {"from": "Legolas", "label": 1, "to": "Sauron", "value": 3, "weight": 1}, {"from": "Legolas", "label": 1, "to": "\u00c9omer", "value": 28, "weight": 1}, {"from": "Legolas", "label": 1, "to": "Frodo", "value": 3, "weight": 1}, {"from": "Legolas", "label": 1, "to": "Celeborn", "value": 4, "weight": 1}, {"from": "Legolas", "label": 1, "to": "Gl\u00f3in", "value": 5, "weight": 1}, {"from": "Legolas", "label": 1, "to": "Treebeard", "value": 25, "weight": 1}, {"from": "Legolas", "label": 1, "to": "Merry", "value": 5, "weight": 1}, {"from": "Legolas", "label": 1, "to": "Th\u00e9oden", "value": 12, "weight": 1}, {"from": "Legolas", "label": 1, "to": "Shadowfax", "value": 5, "weight": 1}, {"from": "Legolas", "label": 1, "to": "Pippin", "value": 3, "weight": 1}, {"from": "Legolas", "label": 1, "to": "Saruman", "value": 5, "weight": 1}, {"from": "Legolas", "label": 1, "to": "Grishn\u00e1kh", "value": 4, "weight": 1}, {"from": "Gimli", "label": 1, "to": "Sauron", "value": 12, "weight": 1}, {"from": "Gimli", "label": 1, "to": "Frodo", "value": 9, "weight": 1}, {"from": "Gimli", "label": 1, "to": "Pippin", "value": 5, "weight": 1}, {"from": "Gimli", "label": 1, "to": "\u00c9omund", "value": 6, "weight": 1}, {"from": "Gimli", "label": 1, "to": "\u00c9omer", "value": 35, "weight": 1}, {"from": "Gimli", "label": 1, "to": "\u00c9othain", "value": 5, "weight": 1}, {"from": "Gimli", "label": 1, "to": "Saruman", "value": 12, "weight": 1}, {"from": "Gimli", "label": 1, "to": "Elrond", "value": 3, "weight": 1}, {"from": "Gimli", "label": 1, "to": "Treebeard", "value": 6, "weight": 1}, {"from": "Gimli", "label": 1, "to": "Merry", "value": 13, "weight": 1}, {"from": "Gimli", "label": 1, "to": "Gl\u00f3in", "value": 2, "weight": 1}, {"from": "Gimli", "label": 1, "to": "H\u00e1ma", "value": 6, "weight": 1}, {"from": "Gimli", "label": 1, "to": "Th\u00e9oden", "value": 8, "weight": 1}, {"from": "Gimli", "label": 1, "to": "Gamling", "value": 5, "weight": 1}, {"from": "Gimli", "label": 1, "to": "Wormtongue", "value": 1, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Merry", "value": 4, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Shadowfax", "value": 5, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Treebeard", "value": 4, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Sm\u00e9agol", "value": 51, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Gaffer", "value": 8, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Sauron", "value": 7, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Gollum", "value": 136, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Bilbo", "value": 11, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Isildur", "value": 24, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Elrond", "value": 6, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Faramir", "value": 66, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Damrod", "value": 3, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Anborn", "value": 2, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Galadriel", "value": 12, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Shelob", "value": 5, "weight": 1}, {"from": "Sauron", "label": 1, "to": "Saruman", "value": 6, "weight": 1}, {"from": "Sauron", "label": 1, "to": "\u00c9omer", "value": 8, "weight": 1}, {"from": "Sauron", "label": 1, "to": "Th\u00e9oden", "value": 5, "weight": 1}, {"from": "Sauron", "label": 1, "to": "Treebeard", "value": 1, "weight": 1}, {"from": "Sauron", "label": 1, "to": "Merry", "value": 2, "weight": 1}, {"from": "Sauron", "label": 1, "to": "Pippin", "value": 5, "weight": 1}, {"from": "Sauron", "label": 1, "to": "Gollum", "value": 3, "weight": 1}, {"from": "Sauron", "label": 1, "to": "Beren", "value": 4, "weight": 1}, {"from": "Sauron", "label": 1, "to": "Ungoliant", "value": 4, "weight": 1}, {"from": "Sauron", "label": 1, "to": "Sm\u00e9agol", "value": 1, "weight": 1}, {"from": "Sauron", "label": 1, "to": "Shelob", "value": 4, "weight": 1}, {"from": "Saruman", "label": 1, "to": "\u00c9omer", "value": 4, "weight": 1}, {"from": "Saruman", "label": 1, "to": "Pippin", "value": 8, "weight": 1}, {"from": "Saruman", "label": 1, "to": "Treebeard", "value": 3, "weight": 1}, {"from": "Saruman", "label": 1, "to": "Merry", "value": 5, "weight": 1}, {"from": "Saruman", "label": 1, "to": "Th\u00e9oden", "value": 4, "weight": 1}, {"from": "Saruman", "label": 1, "to": "Wormtongue", "value": 6, "weight": 1}, {"from": "Pippin", "label": 1, "to": "Merry", "value": 59, "weight": 1}, {"from": "Pippin", "label": 1, "to": "Grishn\u00e1kh", "value": 11, "weight": 1}, {"from": "Pippin", "label": 1, "to": "Gollum", "value": 6, "weight": 1}, {"from": "Pippin", "label": 1, "to": "Treebeard", "value": 1, "weight": 1}, {"from": "Pippin", "label": 1, "to": "Th\u00e9oden", "value": 9, "weight": 1}, {"from": "Pippin", "label": 1, "to": "Quickbeam", "value": 2, "weight": 1}, {"from": "Pippin", "label": 1, "to": "Shadowfax", "value": 2, "weight": 1}, {"from": "\u00c9omund", "label": 1, "to": "\u00c9omer", "value": 7, "weight": 1}, {"from": "\u00c9omund", "label": 1, "to": "\u00c9owyn", "value": 6, "weight": 1}, {"from": "\u00c9omund", "label": 1, "to": "Th\u00e9oden", "value": 3, "weight": 1}, {"from": "\u00c9omund", "label": 1, "to": "Erkenbrand", "value": 2, "weight": 1}, {"from": "\u00c9omer", "label": 1, "to": "\u00c9othain", "value": 6, "weight": 1}, {"from": "\u00c9omer", "label": 1, "to": "Merry", "value": 1, "weight": 1}, {"from": "\u00c9omer", "label": 1, "to": "Th\u00e9oden", "value": 32, "weight": 1}, {"from": "\u00c9omer", "label": 1, "to": "Wormtongue", "value": 11, "weight": 1}, {"from": "\u00c9omer", "label": 1, "to": "H\u00e1ma", "value": 11, "weight": 1}, {"from": "\u00c9omer", "label": 1, "to": "Shadowfax", "value": 9, "weight": 1}, {"from": "\u00c9omer", "label": 1, "to": "Erkenbrand", "value": 4, "weight": 1}, {"from": "\u00c9omer", "label": 1, "to": "Gamling", "value": 10, "weight": 1}, {"from": "\u00c9omer", "label": 1, "to": "Gl\u00f3in", "value": 6, "weight": 1}, {"from": "Th\u00e9oden", "label": 1, "to": "Treebeard", "value": 6, "weight": 1}, {"from": "Th\u00e9oden", "label": 1, "to": "Shadowfax", "value": 2, "weight": 1}, {"from": "Th\u00e9oden", "label": 1, "to": "Wormtongue", "value": 37, "weight": 1}, {"from": "Th\u00e9oden", "label": 1, "to": "H\u00e1ma", "value": 9, "weight": 1}, {"from": "Th\u00e9oden", "label": 1, "to": "\u00c9owyn", "value": 10, "weight": 1}, {"from": "Th\u00e9oden", "label": 1, "to": "Erkenbrand", "value": 6, "weight": 1}, {"from": "Th\u00e9oden", "label": 1, "to": "Merry", "value": 6, "weight": 1}, {"from": "Celeborn", "label": 1, "to": "Treebeard", "value": 8, "weight": 1}, {"from": "Elrond", "label": 1, "to": "Treebeard", "value": 4, "weight": 1}, {"from": "Elrond", "label": 1, "to": "Tom Bombadil", "value": 6, "weight": 1}, {"from": "Elrond", "label": 1, "to": "Faramir", "value": 4, "weight": 1}, {"from": "Merry", "label": 1, "to": "Grishn\u00e1kh", "value": 11, "weight": 1}, {"from": "Merry", "label": 1, "to": "Shadowfax", "value": 1, "weight": 1}, {"from": "Merry", "label": 1, "to": "Bilbo", "value": 9, "weight": 1}, {"from": "Merry", "label": 1, "to": "Treebeard", "value": 65, "weight": 1}, {"from": "Merry", "label": 1, "to": "Galadriel", "value": 5, "weight": 1}, {"from": "Merry", "label": 1, "to": "Wormtongue", "value": 5, "weight": 1}, {"from": "Merry", "label": 1, "to": "Quickbeam", "value": 3, "weight": 1}, {"from": "Grishn\u00e1kh", "label": 1, "to": "Snaga", "value": 2, "weight": 1}, {"from": "Shadowfax", "label": 1, "to": "H\u00e1ma", "value": 3, "weight": 1}, {"from": "Gollum", "label": 1, "to": "Bilbo", "value": 4, "weight": 1}, {"from": "Gollum", "label": 1, "to": "Sm\u00e9agol", "value": 80, "weight": 1}, {"from": "Gollum", "label": 1, "to": "Gaffer", "value": 5, "weight": 1}, {"from": "Gollum", "label": 1, "to": "Isildur", "value": 5, "weight": 1}, {"from": "Gollum", "label": 1, "to": "Faramir", "value": 10, "weight": 1}, {"from": "Gollum", "label": 1, "to": "Damrod", "value": 4, "weight": 1}, {"from": "Gollum", "label": 1, "to": "Anborn", "value": 4, "weight": 1}, {"from": "Gollum", "label": 1, "to": "Shelob", "value": 4, "weight": 1}, {"from": "Gollum", "label": 1, "to": "Ungoliant", "value": 5, "weight": 1}, {"from": "Treebeard", "label": 1, "to": "Bregalad", "value": 9, "weight": 1}, {"from": "Treebeard", "label": 1, "to": "Wormtongue", "value": 9, "weight": 1}, {"from": "Treebeard", "label": 1, "to": "Gl\u00f3in", "value": 3, "weight": 1}, {"from": "Tom Bombadil", "label": 1, "to": "Galadriel", "value": 6, "weight": 1}, {"from": "Galadriel", "label": 1, "to": "Hamfast", "value": 1, "weight": 1}, {"from": "Fladrif", "label": 1, "to": "Finglas", "value": 6, "weight": 1}, {"from": "Bregalad", "label": 1, "to": "Quickbeam", "value": 1, "weight": 1}, {"from": "Wormtongue", "label": 1, "to": "H\u00e1ma", "value": 8, "weight": 1}, {"from": "H\u00e1ma", "label": 1, "to": "\u00c9owyn", "value": 4, "weight": 1}, {"from": "H\u00e1ma", "label": 1, "to": "Erkenbrand", "value": 2, "weight": 1}, {"from": "Erkenbrand", "label": 1, "to": "Gamling", "value": 4, "weight": 1}, {"from": "Sm\u00e9agol", "label": 1, "to": "Anborn", "value": 4, "weight": 1}, {"from": "Sm\u00e9agol", "label": 1, "to": "Shelob", "value": 4, "weight": 1}, {"from": "Isildur", "label": 1, "to": "Faramir", "value": 9, "weight": 1}, {"from": "Faramir", "label": 1, "to": "Anborn", "value": 6, "weight": 1}, {"from": "Shagrat", "label": 1, "to": "Gorbag", "value": 22, "weight": 1}, {"from": "Shagrat", "label": 1, "to": "Ufthak", "value": 3, "weight": 1}]);
                            
                                // adding nodes and edges to the graph
                                data_tt_com = {nodes: nodes_tt_com, edges: edges_tt_com};
                            
                                var options_tt_com = {
                            "configure": {
                                "enabled": false
                            },
                            "edges": {
                                "color": {
                                    "inherit": true
                                },
                                "smooth": {
                                    "enabled": true,
                                    "type": "dynamic"
                                }
                            },
                            "interaction": {
                                "dragNodes": true,
                                "hideEdgesOnDrag": false,
                                "hideNodesOnDrag": false
                            },
                            "physics": {
                                "enabled": true,
                                "stabilization": {
                                    "enabled": true,
                                    "fit": true,
                                    "iterations": 1000,
                                    "onlyDynamicEdges": false,
                                    "updateInterval": 50
                                }
                            }
                        };





                                network_tt_com = new vis.Network(container_tt_com, data_tt_com, options_tt_com);






                                return network_tt_com;

                            }
                        
                            drawGraph_tt_com();
                        
                        </script>

                        <p> </p>
                        <h1>Measures of Centrality</h1>
                        <p>This is all well and good, but it doesn't settle an obvious thought. Who's the most important character? When dealing with a network there are a number of definitions of 'importance'. For example, would the character that has the most connections be the most important? Or maybe it would be the character that connects the most groups of nodes? Here we will provide measures for four measures of importance:</p>
                        <ul type="circle">
                            <li><b>Degree Centrality</b>: which characters have the most connections</li>
                            <li><b>Betweenness Centrality</b>: which characters are the best 'bridges' between groups of characters</li>
                            <li><b>Closeness Centrality</b>: which characters are best placed to spread information to other characters</li>
                        </ul>
                        <h2>Degree Centrality</h2>
                        <p>Using the network we have defined, we are able to quantify the centrality for each of the characters. I have plotted the results below.</p>
                        <img class="img-fluid" src="/images/LOTR_tt_centrality.png" width="700" height="300">
                        <p>A couple of suprises there. Firstly the top three (Aragorn, Gandalf, and Frodo) are not surpising. What is suprising is that Merry doesn't even make the top 10. While Legolas struggles to make the cut compared to the rest of the fellowship.</p>
                        <h2>Betweenness Centrality</h2>
                        <p>As mentioned before, betweenness is defined as the ability of that character to act as a bridge. More technically, the more times that the shortest path between two nodes passes through that character, the better a bridge they are. Again, I have visualised the top 10 characters.</p>
                        <img class="img-fluid" src="/images/LOTR_tt_betweenness.png" width="700" height="300">
                        <p>Very interesting. Sam and Aragorn wayyy ahead of the rest, Legolas nowhere to be seen, and a suprise performance from Grishnakh the Orc.</p>
                        <h2>Closeness Centrality</h2>
                        <p>Finally we have closeness. Basically this is a function of all the paths to all the other characters. The higher the number, the easier it would be to spread stuff from that character.</p>
                        <img class="img-fluid" src="/images/LOTR_tt_closeness.png" width="700" height="300">
                        <p>Interestingly, not much difference between the characters in terms of their closeness. Indicating something about the density of the network we have built.</p>
                        <h1>One Network to Rule Them All</h1>
                        <p>Now that we have our proof of concept network running, I think it's time to let the Spacy model loose on the entire series and build a definitive network. Following all the steps laid out previously I have produced this definitive network</p>
                        
                        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/vis-network@latest/styles/vis-network.css" type="text/css" />
                        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vis-network@latest/dist/vis-network.min.js"> </script>
                        <center>
                        <h1></h1>
                        </center>

                        <!-- <link rel="stylesheet" href="../node_modules/vis/dist/vis.min.css" type="text/css" />
                        <script type="text/javascript" src="../node_modules/vis/dist/vis.js"> </script>-->
                        
                        <style type="text/css">
                        
                                #mynetwork_all {
                                    width: 700px;
                                    height: 700px;
                                    background-color: #222222;
                                    border: 1px solid lightgray;
                                    position: relative;
                                    float: left;
                                }
                            

                            

                            

                        </style>

                        </head>

                        <body>
                        <div id = "mynetwork_all"></div>
                        
                        
                        <script type="text/javascript">
                        
                            // initialize global variables.
                            var edges_all;
                            var nodes_all;
                            var network_all; 
                            var container_all;
                            var options_all, data_all;
                        

                            // This method is responsible for drawing the graph, returns the drawn network
                            function drawGraph_all() {
                                var container_all = document.getElementById('mynetwork_all');


                            
                                // parsing and collecting nodes and edges from the python
                                nodes_all = new vis.DataSet([{"font": {"color": "white"}, "group": 1, "id": "Gandalf", "label": "Gandalf", "shape": "dot", "size": 21}, {"font": {"color": "white"}, "group": 1, "id": "Pippin", "label": "Pippin", "shape": "dot", "size": 11}, {"font": {"color": "white"}, "group": 0, "id": "Frodo", "label": "Frodo", "shape": "dot", "size": 28}, {"font": {"color": "white"}, "group": 3, "id": "Th\u00e9oden", "label": "Th\u00e9oden", "shape": "dot", "size": 16}, {"font": {"color": "white"}, "group": 1, "id": "Denethor", "label": "Denethor", "shape": "dot", "size": 13}, {"font": {"color": "white"}, "group": 1, "id": "Boromir", "label": "Boromir", "shape": "dot", "size": 10}, {"font": {"color": "white"}, "group": 1, "id": "Treebeard", "label": "Treebeard", "shape": "dot", "size": 5}, {"font": {"color": "white"}, "group": 4, "id": "Gimli", "label": "Gimli", "shape": "dot", "size": 14}, {"font": {"color": "white"}, "group": 3, "id": "\u00c9omer", "label": "\u00c9omer", "shape": "dot", "size": 15}, {"font": {"color": "white"}, "group": 1, "id": "Faramir", "label": "Faramir", "shape": "dot", "size": 14}, {"font": {"color": "white"}, "group": 3, "id": "Merry", "label": "Merry", "shape": "dot", "size": 24}, {"font": {"color": "white"}, "group": 3, "id": "\u00c9owyn", "label": "\u00c9owyn", "shape": "dot", "size": 11}, {"font": {"color": "white"}, "group": 4, "id": "Galadriel", "label": "Galadriel", "shape": "dot", "size": 10}, {"font": {"color": "white"}, "group": 1, "id": "Aragorn", "label": "Aragorn", "shape": "dot", "size": 25}, {"font": {"color": "white"}, "group": 2, "id": "Imrahil", "label": "Imrahil", "shape": "dot", "size": 8}, {"font": {"color": "white"}, "group": 3, "id": "Wormtongue", "label": "Wormtongue", "shape": "dot", "size": 8}, {"font": {"color": "white"}, "group": 1, "id": "Sauron", "label": "Sauron", "shape": "dot", "size": 15}, {"font": {"color": "white"}, "group": 0, "id": "Gollum", "label": "Gollum", "shape": "dot", "size": 5}, {"font": {"color": "white"}, "group": 0, "id": "Sam", "label": "Sam", "shape": "dot", "size": 24}, {"font": {"color": "white"}, "group": 1, "id": "Meneldor", "label": "Meneldor", "shape": "dot", "size": 2}, {"font": {"color": "white"}, "group": 1, "id": "Bilbo", "label": "Bilbo", "shape": "dot", "size": 8}, {"font": {"color": "white"}, "group": 1, "id": "Shadowfax", "label": "Shadowfax", "shape": "dot", "size": 2}, {"font": {"color": "white"}, "group": 0, "id": "Fredegar", "label": "Fredegar", "shape": "dot", "size": 2}, {"font": {"color": "white"}, "group": 4, "id": "Legolas", "label": "Legolas", "shape": "dot", "size": 14}, {"font": {"color": "white"}, "group": 0, "id": "Shelob", "label": "Shelob", "shape": "dot", "size": 6}, {"font": {"color": "white"}, "group": 0, "id": "Gorbag", "label": "Gorbag", "shape": "dot", "size": 4}, {"font": {"color": "white"}, "group": 0, "id": "Shagrat", "label": "Shagrat", "shape": "dot", "size": 5}, {"font": {"color": "white"}, "group": 1, "id": "Arwen", "label": "Arwen", "shape": "dot", "size": 3}, {"font": {"color": "white"}, "group": 4, "id": "Elrond", "label": "Elrond", "shape": "dot", "size": 8}, {"font": {"color": "white"}, "group": 0, "id": "Rosie", "label": "Rosie", "shape": "dot", "size": 3}, {"font": {"color": "white"}, "group": 0, "id": "Tom", "label": "Tom", "shape": "dot", "size": 1}, {"font": {"color": "white"}, "group": 3, "id": "Saruman", "label": "Saruman", "shape": "dot", "size": 6}, {"font": {"color": "white"}, "group": 0, "id": "Will", "label": "Will", "shape": "dot", "size": 3}, {"font": {"color": "white"}, "group": 0, "id": "Widow", "label": "Widow", "shape": "dot", "size": 1}, {"font": {"color": "white"}, "group": 1, "id": "Isildur", "label": "Isildur", "shape": "dot", "size": 7}, {"font": {"color": "white"}, "group": 3, "id": "Hirgon", "label": "Hirgon", "shape": "dot", "size": 4}, {"font": {"color": "white"}, "group": 4, "id": "Halbarad", "label": "Halbarad", "shape": "dot", "size": 12}, {"font": {"color": "white"}, "group": 2, "id": "Grimbold", "label": "Grimbold", "shape": "dot", "size": 4}, {"font": {"color": "white"}, "group": 3, "id": "Aldor", "label": "Aldor", "shape": "dot", "size": 2}, {"font": {"color": "white"}, "group": 4, "id": "Elrohir", "label": "Elrohir", "shape": "dot", "size": 6}, {"font": {"color": "white"}, "group": 4, "id": "Elladan", "label": "Elladan", "shape": "dot", "size": 6}, {"font": {"color": "white"}, "group": 3, "id": "Elendil", "label": "Elendil", "shape": "dot", "size": 2}, {"font": {"color": "white"}, "group": 2, "id": "Angbor", "label": "Angbor", "shape": "dot", "size": 2}, {"font": {"color": "white"}, "group": 3, "id": "\u00c9omund", "label": "\u00c9omund", "shape": "dot", "size": 2}, {"font": {"color": "white"}, "group": 4, "id": "Celeborn", "label": "Celeborn", "shape": "dot", "size": 2}, {"font": {"color": "white"}, "group": 0, "id": "Snaga", "label": "Snaga", "shape": "dot", "size": 3}, {"font": {"color": "white"}, "group": 0, "id": "Sm\u00e9agol", "label": "Sm\u00e9agol", "shape": "dot", "size": 1}, {"font": {"color": "white"}, "group": 0, "id": "Landroval", "label": "Landroval", "shape": "dot", "size": 1}, {"font": {"color": "white"}, "group": 0, "id": "Robin", "label": "Robin", "shape": "dot", "size": 1}, {"font": {"color": "white"}, "group": 0, "id": "Ted", "label": "Ted", "shape": "dot", "size": 1}, {"font": {"color": "white"}, "group": 2, "id": "Forlong", "label": "Forlong", "shape": "dot", "size": 3}, {"font": {"color": "white"}, "group": 2, "id": "Herefara", "label": "Herefara", "shape": "dot", "size": 2}]);
                                edges_all = new vis.DataSet([{"from": "Gandalf", "label": 1, "to": "Pippin", "value": 91, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Frodo", "value": 70, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Th\u00e9oden", "value": 21, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Denethor", "value": 77, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Boromir", "value": 9, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Treebeard", "value": 34, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Gimli", "value": 11, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "\u00c9omer", "value": 13, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Faramir", "value": 73, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Merry", "value": 30, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "\u00c9owyn", "value": 11, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Galadriel", "value": 10, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Aragorn", "value": 92, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Imrahil", "value": 23, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Wormtongue", "value": 20, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Sauron", "value": 20, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Gollum", "value": 6, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Sam", "value": 49, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Meneldor", "value": 6, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Bilbo", "value": 18, "weight": 1}, {"from": "Gandalf", "label": 1, "to": "Shadowfax", "value": 6, "weight": 1}, {"from": "Pippin", "label": 1, "to": "Frodo", "value": 48, "weight": 1}, {"from": "Pippin", "label": 1, "to": "Denethor", "value": 84, "weight": 1}, {"from": "Pippin", "label": 1, "to": "Boromir", "value": 29, "weight": 1}, {"from": "Pippin", "label": 1, "to": "Merry", "value": 109, "weight": 1}, {"from": "Pippin", "label": 1, "to": "Aragorn", "value": 21, "weight": 1}, {"from": "Pippin", "label": 1, "to": "Faramir", "value": 13, "weight": 1}, {"from": "Pippin", "label": 1, "to": "Galadriel", "value": 5, "weight": 1}, {"from": "Pippin", "label": 1, "to": "Treebeard", "value": 4, "weight": 1}, {"from": "Pippin", "label": 1, "to": "Sam", "value": 50, "weight": 1}, {"from": "Pippin", "label": 1, "to": "Fredegar", "value": 4, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Boromir", "value": 3, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Gimli", "value": 12, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Sam", "value": 1211, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Legolas", "value": 11, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Faramir", "value": 9, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Shelob", "value": 12, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Denethor", "value": 5, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Gorbag", "value": 7, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Shagrat", "value": 9, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Gollum", "value": 32, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Galadriel", "value": 13, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Sauron", "value": 4, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Meneldor", "value": 4, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Merry", "value": 70, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Bilbo", "value": 42, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Aragorn", "value": 15, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Arwen", "value": 3, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Th\u00e9oden", "value": 5, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Elrond", "value": 12, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Rosie", "value": 16, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Tom", "value": 10, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Saruman", "value": 11, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Wormtongue", "value": 15, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Fredegar", "value": 5, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Will", "value": 8, "weight": 1}, {"from": "Frodo", "label": 1, "to": "Widow", "value": 10, "weight": 1}, {"from": "Denethor", "label": 1, "to": "Boromir", "value": 61, "weight": 1}, {"from": "Denethor", "label": 1, "to": "Th\u00e9oden", "value": 10, "weight": 1}, {"from": "Denethor", "label": 1, "to": "Isildur", "value": 11, "weight": 1}, {"from": "Denethor", "label": 1, "to": "Faramir", "value": 84, "weight": 1}, {"from": "Denethor", "label": 1, "to": "Hirgon", "value": 19, "weight": 1}, {"from": "Denethor", "label": 1, "to": "Merry", "value": 1, "weight": 1}, {"from": "Denethor", "label": 1, "to": "\u00c9omer", "value": 5, "weight": 1}, {"from": "Denethor", "label": 1, "to": "Sauron", "value": 7, "weight": 1}, {"from": "Denethor", "label": 1, "to": "Aragorn", "value": 4, "weight": 1}, {"from": "Denethor", "label": 1, "to": "Imrahil", "value": 10, "weight": 1}, {"from": "Boromir", "label": 1, "to": "Th\u00e9oden", "value": 7, "weight": 1}, {"from": "Boromir", "label": 1, "to": "Aragorn", "value": 10, "weight": 1}, {"from": "Boromir", "label": 1, "to": "Isildur", "value": 6, "weight": 1}, {"from": "Boromir", "label": 1, "to": "Faramir", "value": 20, "weight": 1}, {"from": "Boromir", "label": 1, "to": "Merry", "value": 6, "weight": 1}, {"from": "Boromir", "label": 1, "to": "Sauron", "value": 5, "weight": 1}, {"from": "Th\u00e9oden", "label": 1, "to": "Saruman", "value": 6, "weight": 1}, {"from": "Th\u00e9oden", "label": 1, "to": "Aragorn", "value": 28, "weight": 1}, {"from": "Th\u00e9oden", "label": 1, "to": "Merry", "value": 59, "weight": 1}, {"from": "Th\u00e9oden", "label": 1, "to": "\u00c9omer", "value": 77, "weight": 1}, {"from": "Th\u00e9oden", "label": 1, "to": "Sauron", "value": 6, "weight": 1}, {"from": "Th\u00e9oden", "label": 1, "to": "Halbarad", "value": 4, "weight": 1}, {"from": "Th\u00e9oden", "label": 1, "to": "\u00c9owyn", "value": 15, "weight": 1}, {"from": "Th\u00e9oden", "label": 1, "to": "Hirgon", "value": 10, "weight": 1}, {"from": "Th\u00e9oden", "label": 1, "to": "Grimbold", "value": 5, "weight": 1}, {"from": "Th\u00e9oden", "label": 1, "to": "Wormtongue", "value": 9, "weight": 1}, {"from": "Th\u00e9oden", "label": 1, "to": "Faramir", "value": 5, "weight": 1}, {"from": "Th\u00e9oden", "label": 1, "to": "Aldor", "value": 5, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Merry", "value": 55, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Legolas", "value": 49, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Gimli", "value": 93, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Halbarad", "value": 22, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Elrohir", "value": 20, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "\u00c9omer", "value": 65, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Isildur", "value": 9, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Sauron", "value": 30, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "\u00c9owyn", "value": 11, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Elladan", "value": 2, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Elendil", "value": 5, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Galadriel", "value": 6, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Imrahil", "value": 23, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Faramir", "value": 15, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Saruman", "value": 7, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Angbor", "value": 9, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Sam", "value": 8, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Treebeard", "value": 22, "weight": 1}, {"from": "Aragorn", "label": 1, "to": "Bilbo", "value": 1, "weight": 1}, {"from": "Treebeard", "label": 1, "to": "Gimli", "value": 1, "weight": 1}, {"from": "Treebeard", "label": 1, "to": "Bilbo", "value": 1, "weight": 1}, {"from": "Isildur", "label": 1, "to": "Legolas", "value": 5, "weight": 1}, {"from": "Isildur", "label": 1, "to": "Sauron", "value": 25, "weight": 1}, {"from": "Isildur", "label": 1, "to": "Halbarad", "value": 6, "weight": 1}, {"from": "Isildur", "label": 1, "to": "Arwen", "value": 5, "weight": 1}, {"from": "Faramir", "label": 1, "to": "Gollum", "value": 7, "weight": 1}, {"from": "Faramir", "label": 1, "to": "\u00c9omer", "value": 5, "weight": 1}, {"from": "Faramir", "label": 1, "to": "Sauron", "value": 3, "weight": 1}, {"from": "Faramir", "label": 1, "to": "Elrond", "value": 4, "weight": 1}, {"from": "Faramir", "label": 1, "to": "\u00c9owyn", "value": 50, "weight": 1}, {"from": "Faramir", "label": 1, "to": "Sam", "value": 21, "weight": 1}, {"from": "Faramir", "label": 1, "to": "Merry", "value": 11, "weight": 1}, {"from": "Merry", "label": 1, "to": "Gimli", "value": 40, "weight": 1}, {"from": "Merry", "label": 1, "to": "Halbarad", "value": 5, "weight": 1}, {"from": "Merry", "label": 1, "to": "Legolas", "value": 35, "weight": 1}, {"from": "Merry", "label": 1, "to": "Elrohir", "value": 4, "weight": 1}, {"from": "Merry", "label": 1, "to": "\u00c9omer", "value": 35, "weight": 1}, {"from": "Merry", "label": 1, "to": "\u00c9owyn", "value": 47, "weight": 1}, {"from": "Merry", "label": 1, "to": "Hirgon", "value": 5, "weight": 1}, {"from": "Merry", "label": 1, "to": "\u00c9omund", "value": 1, "weight": 1}, {"from": "Merry", "label": 1, "to": "Elrond", "value": 4, "weight": 1}, {"from": "Merry", "label": 1, "to": "Imrahil", "value": 2, "weight": 1}, {"from": "Merry", "label": 1, "to": "Shelob", "value": 4, "weight": 1}, {"from": "Merry", "label": 1, "to": "Saruman", "value": 13, "weight": 1}, {"from": "Merry", "label": 1, "to": "Wormtongue", "value": 6, "weight": 1}, {"from": "Merry", "label": 1, "to": "Sam", "value": 74, "weight": 1}, {"from": "Merry", "label": 1, "to": "Will", "value": 5, "weight": 1}, {"from": "Merry", "label": 1, "to": "Rosie", "value": 6, "weight": 1}, {"from": "Legolas", "label": 1, "to": "Gimli", "value": 234, "weight": 1}, {"from": "Legolas", "label": 1, "to": "Halbarad", "value": 4, "weight": 1}, {"from": "Legolas", "label": 1, "to": "Elladan", "value": 13, "weight": 1}, {"from": "Legolas", "label": 1, "to": "Galadriel", "value": 6, "weight": 1}, {"from": "Legolas", "label": 1, "to": "Elrond", "value": 5, "weight": 1}, {"from": "Legolas", "label": 1, "to": "Sauron", "value": 2, "weight": 1}, {"from": "Legolas", "label": 1, "to": "Imrahil", "value": 23, "weight": 1}, {"from": "Legolas", "label": 1, "to": "Sam", "value": 6, "weight": 1}, {"from": "Legolas", "label": 1, "to": "\u00c9owyn", "value": 6, "weight": 1}, {"from": "Legolas", "label": 1, "to": "Shadowfax", "value": 6, "weight": 1}, {"from": "Gimli", "label": 1, "to": "Halbarad", "value": 17, "weight": 1}, {"from": "Gimli", "label": 1, "to": "Galadriel", "value": 2, "weight": 1}, {"from": "Gimli", "label": 1, "to": "Sauron", "value": 11, "weight": 1}, {"from": "Gimli", "label": 1, "to": "Elladan", "value": 21, "weight": 1}, {"from": "Gimli", "label": 1, "to": "\u00c9owyn", "value": 5, "weight": 1}, {"from": "Gimli", "label": 1, "to": "\u00c9omer", "value": 30, "weight": 1}, {"from": "Gimli", "label": 1, "to": "Sam", "value": 15, "weight": 1}, {"from": "Gimli", "label": 1, "to": "Elrond", "value": 6, "weight": 1}, {"from": "Halbarad", "label": 1, "to": "Saruman", "value": 3, "weight": 1}, {"from": "Halbarad", "label": 1, "to": "Elladan", "value": 11, "weight": 1}, {"from": "Halbarad", "label": 1, "to": "Elrohir", "value": 5, "weight": 1}, {"from": "Halbarad", "label": 1, "to": "Elrond", "value": 6, "weight": 1}, {"from": "Halbarad", "label": 1, "to": "\u00c9omer", "value": 3, "weight": 1}, {"from": "Halbarad", "label": 1, "to": "Grimbold", "value": 6, "weight": 1}, {"from": "Saruman", "label": 1, "to": "Wormtongue", "value": 6, "weight": 1}, {"from": "Elladan", "label": 1, "to": "Elrohir", "value": 24, "weight": 1}, {"from": "Elladan", "label": 1, "to": "Celeborn", "value": 6, "weight": 1}, {"from": "Elrohir", "label": 1, "to": "\u00c9omer", "value": 9, "weight": 1}, {"from": "Elrohir", "label": 1, "to": "Sauron", "value": 3, "weight": 1}, {"from": "Galadriel", "label": 1, "to": "Sam", "value": 36, "weight": 1}, {"from": "Galadriel", "label": 1, "to": "Sauron", "value": 5, "weight": 1}, {"from": "Galadriel", "label": 1, "to": "Celeborn", "value": 5, "weight": 1}, {"from": "Galadriel", "label": 1, "to": "Bilbo", "value": 9, "weight": 1}, {"from": "\u00c9omer", "label": 1, "to": "Wormtongue", "value": 8, "weight": 1}, {"from": "\u00c9omer", "label": 1, "to": "\u00c9owyn", "value": 87, "weight": 1}, {"from": "\u00c9omer", "label": 1, "to": "Hirgon", "value": 10, "weight": 1}, {"from": "\u00c9omer", "label": 1, "to": "Imrahil", "value": 36, "weight": 1}, {"from": "\u00c9omer", "label": 1, "to": "Elendil", "value": 6, "weight": 1}, {"from": "\u00c9omer", "label": 1, "to": "Aldor", "value": 5, "weight": 1}, {"from": "Elrond", "label": 1, "to": "Sam", "value": 12, "weight": 1}, {"from": "Elrond", "label": 1, "to": "Bilbo", "value": 5, "weight": 1}, {"from": "Sauron", "label": 1, "to": "\u00c9owyn", "value": 7, "weight": 1}, {"from": "Sauron", "label": 1, "to": "Sam", "value": 28, "weight": 1}, {"from": "Sauron", "label": 1, "to": "Shelob", "value": 5, "weight": 1}, {"from": "\u00c9owyn", "label": 1, "to": "\u00c9omund", "value": 6, "weight": 1}, {"from": "\u00c9owyn", "label": 1, "to": "Wormtongue", "value": 5, "weight": 1}, {"from": "Sam", "label": 1, "to": "Shelob", "value": 21, "weight": 1}, {"from": "Sam", "label": 1, "to": "Shagrat", "value": 77, "weight": 1}, {"from": "Sam", "label": 1, "to": "Gorbag", "value": 11, "weight": 1}, {"from": "Sam", "label": 1, "to": "Bilbo", "value": 35, "weight": 1}, {"from": "Sam", "label": 1, "to": "Snaga", "value": 4, "weight": 1}, {"from": "Sam", "label": 1, "to": "Gollum", "value": 51, "weight": 1}, {"from": "Sam", "label": 1, "to": "Rosie", "value": 71, "weight": 1}, {"from": "Sam", "label": 1, "to": "Sm\u00e9agol", "value": 6, "weight": 1}, {"from": "Sam", "label": 1, "to": "Landroval", "value": 5, "weight": 1}, {"from": "Sam", "label": 1, "to": "Wormtongue", "value": 6, "weight": 1}, {"from": "Sam", "label": 1, "to": "Robin", "value": 9, "weight": 1}, {"from": "Sam", "label": 1, "to": "Will", "value": 12, "weight": 1}, {"from": "Sam", "label": 1, "to": "Ted", "value": 5, "weight": 1}, {"from": "Gollum", "label": 1, "to": "Shelob", "value": 6, "weight": 1}, {"from": "Arwen", "label": 1, "to": "Bilbo", "value": 6, "weight": 1}, {"from": "Imrahil", "label": 1, "to": "Forlong", "value": 3, "weight": 1}, {"from": "Imrahil", "label": 1, "to": "Angbor", "value": 3, "weight": 1}, {"from": "Forlong", "label": 1, "to": "Grimbold", "value": 5, "weight": 1}, {"from": "Forlong", "label": 1, "to": "Herefara", "value": 5, "weight": 1}, {"from": "Grimbold", "label": 1, "to": "Herefara", "value": 6, "weight": 1}, {"from": "Shelob", "label": 1, "to": "Shagrat", "value": 6, "weight": 1}, {"from": "Shagrat", "label": 1, "to": "Gorbag", "value": 40, "weight": 1}, {"from": "Shagrat", "label": 1, "to": "Snaga", "value": 18, "weight": 1}, {"from": "Gorbag", "label": 1, "to": "Snaga", "value": 3, "weight": 1}]);
                            
                                // adding nodes and edges to the graph
                                data_all = {nodes: nodes_all, edges: edges_all};
                            
                                var options_all = {
                            "configure": {
                                "enabled": false
                            },
                            "edges": {
                                "color": {
                                    "inherit": true
                                },
                                "smooth": {
                                    "enabled": true,
                                    "type": "dynamic"
                                }
                            },
                            "interaction": {
                                "dragNodes": true,
                                "hideEdgesOnDrag": false,
                                "hideNodesOnDrag": false
                            },
                            "physics": {
                                "enabled": true,
                                "stabilization": {
                                    "enabled": true,
                                    "fit": true,
                                    "iterations": 1000,
                                    "onlyDynamicEdges": false,
                                    "updateInterval": 50
                                }
                            }
                        };





                                network_all = new vis.Network(container_all, data_all, options_all);






                                return network_all;

                            }
                        
                            drawGraph_all();
                        
                        </script>

                        <p> </p>
                        <p>Pretty cool. One final thing we can do is visualise how the importance of characters has evolved over time. We could do this by measuring the centrality for each of the characters in the fellowship, and plotting their importance by book. We can see this plot below</p>
                        <img class="img-fluid" src="/images/LOTR_all_evolve.png" width="700" height="300">
                        <p>Here we can see that Frodo starts out strong, while Aragorn becomes progressively more important. What's also interesting is that whilst Merry goes from strength to strength with regards to his centrality, Pippin remains the least important and actually becomes less important as the series goes on.</p>
                        <h1>There and Back Again</h1>
                        <p>I hope you liked reading about this project and learnt a little about networks along the way. As mentioned before, all the code I wrote is stored on my Github <a href="https://github.com/ChrisPayneHome/LOTR-Network">here</a>. Please feel free to take a look and watch the YouTube video I referred to earlier that inspired this project.</p>
                    </div>
                </div>
            </div>
        </article>
        <hr />
        <!-- Footer-->
        <footer>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-md-10 mx-auto">
                        <ul class="list-inline text-center">
                            <li class="list-inline-item">
                                <a href="https://twitter.com/cpayneathome">
                                    <span class="fa-stack fa-lg">
                                        <i class="fas fa-circle fa-stack-2x"></i>
                                        <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li class="list-inline-item">
                                <a href="https://github.com/ChrisPayneHome">
                                    <span class="fa-stack fa-lg">
                                        <i class="fas fa-circle fa-stack-2x"></i>
                                        <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                        </ul>
                        <p class="copyright text-muted">Copyright &copy; Christian Payne 2022</p>
                    </div>
                </div>
            </div>
        </footer>
        <!-- Bootstrap core JS-->
        <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
    </body>
</html>